# WZRD Default Configuration
# --------------------------
# Copy this file to your project directory as 'config.yaml' to customize settings.

# Resolution normalization settings
resolution:
  # Default aspect ratio for surface images
  # Common options: "16:9", "9:16", "4:3", "3:4", "1:1", "21:9"
  default_aspect: "16:9"

  # Base resolution (max dimension in pixels)
  # All pipeline stages will normalize to this resolution
  base_resolution: 1920

  # Tolerance for aspect ratio matching (0.02 = 2%)
  # Images within this tolerance won't be re-cropped
  aspect_tolerance: 0.02

# Image darkening settings (darken module)
darken:
  # Maximum output intensity (0.0-1.0)
  # Lower = darker/more invisible projection
  # 0.15 means brightest pixel will be ~15% of full white
  max_brightness: 0.15

  # Gamma for dynamic range compression
  # Lower values = more compression, expands shadows
  # Higher values = less compression, preserves contrast
  gamma: 1.5

# Background subtraction settings (subtract module)
subtract:
  # Threshold for difference detection (0-255)
  # Pixels with difference below this are considered background
  # Higher = more aggressive background removal
  threshold: 10

  # Boost multiplier for the extracted creature
  # Amplifies the brightness of the isolated element
  # 1.0 = no boost, 2.0 = double brightness
  boost: 1.1

  # Soft edge feathering radius (pixels)
  # Blurs the mask edges to prevent harsh cutoffs
  # 0 = no feathering, higher = softer edges
  feather_radius: 4

  # Color space for difference calculation
  # Options: "rgb", "lab", "luminance"
  # - rgb: Simple per-channel difference
  # - lab: Perceptually uniform color difference (requires scikit-image)
  # - luminance: Brightness-based difference only
  diff_mode: "luminance"

  # Minimum alpha for output (0.0-1.0)
  # Sets floor for transparency to avoid pure black pixels
  min_alpha: 0.0

  # Whether to output as additive (black background) or with alpha
  # - additive: RGB image with black background (for additive blending)
  # - alpha: RGBA image with transparency
  output_mode: "additive"
